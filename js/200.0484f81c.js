"use strict";(self["webpackChunkirup_redesign"]=self["webpackChunkirup_redesign"]||[]).push([[200],{200:function(e,t,s){s.r(t),s.d(t,{default:function(){return G}});var a=s(252),l=s(963),o=s(577);const i=e=>((0,a.dD)("data-v-f711b2b6"),e=e(),(0,a.Cn)(),e),n={class:"case"},d={key:0,class:"edit-icons d-flex flex-column"},c=i((()=>(0,a._)("span",{class:"d-flex justify-content-center align-items-center edit-icon","data-bs-toggle":"modal","data-bs-target":"#EditCaseModal"},[(0,a._)("i",{class:"fas fa-pen-nib"})],-1))),u=i((()=>(0,a._)("i",{class:"fas fa-trash"},null,-1))),r=[u],m={class:"title text-uppercase"},g={class:"date"},h=["src"],p=["innerHTML"],C={class:"modal fade",tabindex:"-1",id:"EditCaseModal"},f={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable modal-xl"},y={class:"modal-content"},S=i((()=>(0,a._)("div",{class:"modal-header"},[(0,a._)("h5",{class:"modal-title"},"Edit Case Study"),(0,a._)("button",{type:"button",class:"btn-close",id:"close-modal","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),b={class:"modal-body"},_={class:"container"},v={class:"inputs"},U={class:"caseTitle form-floating mx-3 mt-3"},x=i((()=>(0,a._)("label",{for:"floatingInput"},"Case Title",-1))),k={class:"subtitle form-floating mx-3 mt-3"},w=i((()=>(0,a._)("label",{for:"floatingInput subtitle"},"Subtitle",-1))),P={class:"caseCoverPhoto mx-3 mt-3 p-3 d-flex align-items-center"},D={for:"caseCoverPhoto",class:"p-5 px-0"},L={key:0},T=i((()=>(0,a._)("i",{class:"fa-solid fa-image"},null,-1))),R=(0,a.Uk)("Upload Case Cover Photo "),I=[T,R],V=["src"],$=i((()=>(0,a._)("br",null,null,-1))),E=i((()=>(0,a._)("br",null,null,-1))),H={class:"caseContent mx-3 mt-3"},j={class:"modal-footer"},q=(0,a.Uk)(" SAVE "),z={key:0,class:"spinner-grow spinner-grow-sm",role:"status","aria-hidden":"true"};function A(e,t,s,i,u,T){const R=(0,a.up)("LoadingComponent"),A=(0,a.up)("vue-editor");return(0,a.wg)(),(0,a.iD)("main",null,[(0,a.wy)((0,a.Wm)(R,null,null,512),[[l.F8,u.loading]]),(0,a._)("div",n,[T.user?((0,a.wg)(),(0,a.iD)("div",d,[c,(0,a._)("span",{class:"d-flex justify-content-center align-items-center delete-icon",onClick:t[0]||(t[0]=(...e)=>T.deleteCase&&T.deleteCase(...e))},r)])):(0,a.kq)("",!0),(0,a._)("h1",m,(0,o.zw)(u.caseStudy.Title),1),(0,a._)("h5",null,(0,o.zw)(u.caseStudy.Subtitle),1),(0,a._)("h6",g,(0,o.zw)(u.caseStudy.TimeStamp),1),(0,a._)("img",{src:u.caseStudy.CoverPhotoURL,alt:"",class:"mb-4"},null,8,h),(0,a._)("div",{class:"content ql-editor",innerHTML:u.caseStudy.Content},null,8,p)]),(0,a._)("div",C,[(0,a._)("div",f,[(0,a._)("div",y,[S,(0,a._)("div",b,[(0,a._)("div",_,[(0,a._)("div",v,[(0,a._)("div",U,[(0,a.wy)((0,a._)("input",{class:"type-in-box form-control",type:"text",placeholder:"Case Title","onUpdate:modelValue":t[1]||(t[1]=e=>u.caseStudy.Title=e)},null,512),[[l.nr,u.caseStudy.Title]]),x]),(0,a._)("div",k,[(0,a.wy)((0,a._)("input",{class:"type-in-box form-control",type:"text",placeholder:"Subtitle","onUpdate:modelValue":t[2]||(t[2]=e=>u.caseStudy.Subtitle=e)},null,512),[[l.nr,u.caseStudy.Subtitle]]),w]),(0,a._)("div",P,[(0,a._)("label",D,[u.caseStudy.CoverPhotoURL?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("span",L,I)),u.caseStudy.CoverPhotoURL?((0,a.wg)(),(0,a.iD)("img",{key:1,src:u.caseStudy.CoverPhotoURL,alt:""},null,8,V)):(0,a.kq)("",!0),(0,a._)("input",{type:"file",ref:"caseCoverPhoto",id:"caseCoverPhoto",onChange:t[3]||(t[3]=(...e)=>T.fileChange&&T.fileChange(...e)),accept:".png, .jpg, ,.jpeg"},null,544)]),$,E]),(0,a._)("div",H,[(0,a.Wm)(A,{modelValue:u.caseStudy.Content,"onUpdate:modelValue":t[4]||(t[4]=e=>u.caseStudy.Content=e),editorOptions:u.editorSettings,useCustomImageHandler:"",onImageAdded:T.imageHandler},null,8,["modelValue","editorOptions","onImageAdded"])])])])]),(0,a._)("div",j,[(0,a._)("button",{type:"button",class:"btn",onClick:t[5]||(t[5]=(...e)=>T.updateCaseStudy&&T.updateCaseStudy(...e))},[q,u.loading?((0,a.wg)(),(0,a.iD)("span",z)):(0,a.kq)("",!0)])])])])])])}var M=s(287),O=s(377),J=s(652),Q=s.n(J),W=s(911),B=s(153),F=s(257);M.Quill.register("modules/imageDrop",O.c),M.Quill.register("modules/imageResize",Q());var N={created(){this.getCaseStudy()},components:{VueEditor:M.VueEditor},data(){return{caseStudy:null,loading:null,editorSettings:{modules:{imageDrop:!0,imageResize:{}}}}},computed:{user(){return this.$store.state.user}},methods:{getCaseStudy(){const e=(0,F.JU)(W.db,"CaseStudies",String(this.$route.params.caseID));(0,F.QT)(e).then((e=>{this.caseStudy=e.data()}))},fileChange(e){this.file=e.target.files[0];const t=this.file.name;console.log(t),this.coverPhotoName=t,this.coverPhotoURL=URL.createObjectURL(this.file)},imageHandler(e,t,s,a){const l=(0,B.iH)(W.tO,`CaseStudiesPhotos/${e.name}`),o=(0,B.B0)(l,this.file);o.on("state_changed",(e=>{console.log(e)}))},updateCaseStudy(){console.log(this.$route.params.caseID),this.loading=!0;const e=(0,F.JU)(W.db,"CaseStudies",String(this.$route.params.caseID));(0,F.r7)(e,{Title:this.caseStudy.Title,Subtitle:this.caseStudy.Subtitle,CoverPhotoURL:this.caseStudy.CoverPhotoURL,Content:this.caseStudy.Content}).then((()=>{console.log("update completed"),this.loading=!1,this.$router.go()})).catch((e=>{this.loading=!1,console.log(e)}))},deleteCase(){let e="You are deleting this case  \n Are you sure you want to do this?";if(1==confirm(e)){const e=(0,F.JU)(W.db,"CaseStudies",String(this.$route.params.caseID));(0,F.oe)(e).then((()=>{this.$router.push("/casestudies")})).catch((e=>{console.log(e)}))}}}},Y=s(744);const Z=(0,Y.Z)(N,[["render",A],["__scopeId","data-v-f711b2b6"]]);var G=Z}}]);
//# sourceMappingURL=200.0484f81c.js.map