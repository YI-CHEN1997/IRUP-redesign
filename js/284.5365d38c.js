"use strict";(self["webpackChunkirup_redesign"]=self["webpackChunkirup_redesign"]||[]).push([[284],{284:function(e,t,o){o.r(t),o.d(t,{default:function(){return be}});var l=o(252),i=o(963);const a=e=>((0,l.dD)("data-v-0c1a44b1"),e=e(),(0,l.Cn)(),e),s={class:""},n={class:"container"},r={class:"modal",tabindex:"-1",id:"addNewMember"},d={class:"modal-dialog modal-dialog-scrollable modal-lg"},c={class:"modal-content"},m=a((()=>(0,l._)("div",{class:"modal-header"},[(0,l._)("h5",{class:"modal-title"},"Add New Member"),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),p={class:"modal-body"},u={class:"upload-photo"},f=["src"],h={class:"text-center"},g=a((()=>(0,l._)("i",{class:"fa-solid fa-user-plus photo-preview"},null,-1))),b={class:"inputs"},_={class:"name form-floating mx-3 mb-3"},y=a((()=>(0,l._)("label",{for:"floatingInput memberName"},"Member's Name",-1))),v={class:"phone form-floating mx-3 my-3"},w=a((()=>(0,l._)("label",{for:"floatingInput profilePhone"},"Phone",-1))),P={class:"email form-floating mx-3 mt-3"},k=a((()=>(0,l._)("label",{for:"floatingInput profileEmail"},"Email",-1))),x=a((()=>(0,l._)("br",null,null,-1))),C={class:"modal-footer"},E={class:"row justify-content-center align-items-center"},N={class:"title position-relative"},$=a((()=>(0,l._)("h1",{class:"text-center uppercase d-flex justify-content-center"}," Executive Board ",-1))),M={key:0,class:"plus-btn"},D=a((()=>(0,l._)("span",{class:"d-flex justify-content-center add-btn align-items-center","data-bs-toggle":"modal","data-bs-target":"#addNewMember"},[(0,l._)("i",{class:"fa-solid fa-plus"})],-1))),V=[D],U={class:"conatainer business-card row d-flex justify-content-center"};function j(e,t,o,a,D,j){const q=(0,l.up)("LoadingComponent"),B=(0,l.up)("VueEditor"),L=(0,l.up)("BusinessCard");return(0,l.wg)(),(0,l.iD)("main",null,[(0,l._)("div",s,[(0,l.wy)((0,l.Wm)(q,null,null,512),[[i.F8,D.loading]]),(0,l._)("div",n,[(0,l._)("div",r,[(0,l._)("div",d,[(0,l._)("div",c,[m,(0,l._)("div",p,[(0,l._)("div",u,[(0,l._)("img",{src:j.profilePhotoURL,alt:"",class:"photo-preview"},null,8,f),(0,l._)("label",h,[g,(0,l._)("input",{type:"file",ref:"profilePhoto",id:"profile-photo",onChange:t[0]||(t[0]=(...e)=>j.fileChange&&j.fileChange(...e)),accept:".png, .jpg, ,.jpeg"},null,544)])]),(0,l._)("div",b,[(0,l._)("div",_,[(0,l.wy)((0,l._)("input",{class:"type-in-box form-control",type:"text",name:"memberName",placeholder:"memberName","onUpdate:modelValue":t[1]||(t[1]=e=>j.profileName=e)},null,512),[[i.nr,j.profileName]]),y]),(0,l._)("div",v,[(0,l.wy)((0,l._)("input",{class:"type-in-box form-control",type:"text",name:"profilePhone",placeholder:"Phone","onUpdate:modelValue":t[2]||(t[2]=e=>j.profilePhone=e)},null,512),[[i.nr,j.profilePhone]]),w]),(0,l._)("div",P,[(0,l.wy)((0,l._)("input",{class:"type-in-box form-control",type:"text",name:"profileEmail",placeholder:"Email","onUpdate:modelValue":t[3]||(t[3]=e=>j.profileEmail=e)},null,512),[[i.nr,j.profileEmail]]),k]),x,(0,l.Wm)(B,{class:"ql-editor",modelValue:j.profileContent,"onUpdate:modelValue":t[4]||(t[4]=e=>j.profileContent=e),placeholder:"Description"},null,8,["modelValue"])])]),(0,l._)("div",C,[(0,l._)("button",{type:"button",class:"btn btn-primary",onClick:t[5]||(t[5]=(...e)=>j.addNewMember&&j.addNewMember(...e))}," SAVE ")])])])])]),(0,l._)("div",E,[(0,l._)("div",N,[$,j.user?((0,l.wg)(),(0,l.iD)("div",M,V)):(0,l.kq)("",!0)])]),(0,l._)("div",U,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(j.boardMembers,(e=>((0,l.wg)(),(0,l.j4)(L,{member:e,key:e},null,8,["member"])))),128))])])])}var q=o(577);const B=e=>((0,l.dD)("data-v-3c8ea123"),e=e(),(0,l.Cn)(),e),L={class:"cards p-4 m-4"},R={key:0,class:"d-flex flex-column justify-content-end edit-icons"},I={key:0,class:"d-flex justify-content-center spinner-grow",role:"status"},H=B((()=>(0,l._)("span",{class:"visually-hidden"},"Loading...",-1))),J=[H],z=B((()=>(0,l._)("i",{class:"fas fa-pen-nib"},null,-1))),A=[z],T=B((()=>(0,l._)("i",{class:"fa-solid fa-floppy-disk"},null,-1))),O=[T],W=B((()=>(0,l._)("i",{class:"fas fa-trash"},null,-1))),Y=[W],Z={class:"d-flex"},F=["src"],K={class:"d-flex flex-column justify-content-center m-4"},S={class:"mb-3"},G={key:0},Q={class:"contact"},X=B((()=>(0,l._)("span",{class:"icon"},[(0,l._)("i",{class:"fa-solid fa-phone fa-lg"})],-1))),ee={key:0},te=B((()=>(0,l._)("span",{class:"icon"},[(0,l._)("i",{class:"fa-solid fa-envelope fa-lg"})],-1))),oe={key:0},le={class:""},ie=["innerHTML"];function ae(e,t,o,a,s,n){const r=(0,l.up)("VueEditor");return(0,l.wg)(),(0,l.iD)("div",L,[n.user?((0,l.wg)(),(0,l.iD)("div",R,[s.loading?((0,l.wg)(),(0,l.iD)("div",I,J)):(0,l.kq)("",!0),s.edit?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("span",{key:1,class:"d-flex justify-content-center align-items-center edit-icon",onClick:t[0]||(t[0]=(...e)=>n.toggleEdit&&n.toggleEdit(...e))},A)),s.edit&&!s.loading?((0,l.wg)(),(0,l.iD)("span",{key:2,class:"d-flex justify-content-center align-items-center save-icon",onClick:t[1]||(t[1]=(...e)=>n.updateMember&&n.updateMember(...e))},O)):(0,l.kq)("",!0),(0,l._)("span",{class:"d-flex justify-content-center align-items-center delete-icon",onClick:t[2]||(t[2]=e=>n.deleteMember(o.member.id))},Y)])):(0,l.kq)("",!0),(0,l._)("div",Z,[(0,l._)("img",{src:o.member.profilePhoto},null,8,F),(0,l._)("div",K,[(0,l._)("div",S,[s.edit?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("h5",G,(0,q.zw)(o.member.profileName),1)),s.edit?(0,l.wy)(((0,l.wg)(),(0,l.iD)("input",{key:1,type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>s.localProfile.name=e)},null,512)),[[i.nr,s.localProfile.name]]):(0,l.kq)("",!0)]),(0,l._)("div",Q,[(0,l._)("p",null,[X,s.edit?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("span",ee,(0,q.zw)(o.member.contactPhone),1)),s.edit?(0,l.wy)(((0,l.wg)(),(0,l.iD)("input",{key:1,type:"text","onUpdate:modelValue":t[4]||(t[4]=e=>s.localProfile.phone=e)},null,512)),[[i.nr,s.localProfile.phone]]):(0,l.kq)("",!0)]),(0,l._)("p",null,[te,s.edit?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("span",oe,(0,q.zw)(o.member.contactEmail),1)),s.edit?(0,l.wy)(((0,l.wg)(),(0,l.iD)("input",{key:1,type:"text","onUpdate:modelValue":t[5]||(t[5]=e=>s.localProfile.email=e)},null,512)),[[i.nr,s.localProfile.email]]):(0,l.kq)("",!0)])])])]),(0,l._)("div",le,[s.edit?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("h6",{key:0,class:"text-break my-3",innerHTML:o.member.profileContent},null,8,ie)),s.edit?((0,l.wg)(),(0,l.j4)(r,{key:1,class:"ql-editor",modelValue:s.localProfile.content,"onUpdate:modelValue":t[6]||(t[6]=e=>s.localProfile.content=e),placeholder:"Description"},null,8,["modelValue"])):(0,l.kq)("",!0)])])}var se=o(911),ne=o(257),re=o(287),de=o(294),ce={name:"BusinessCard",props:["member"],components:{VueEditor:re.VueEditor},data(){return{loading:null,edit:null,localProfile:{name:this.member.profileName,phone:this.member.contactPhone,email:this.member.contactEmail,content:this.member.profileContent}}},computed:{user(){return this.$store.state.user}},methods:{toggleEdit(){this.edit=!this.edit},updateMember(){this.loading=!0,console.log(this.member.profileName);const e=(0,ne.JU)(se.db,"executiveBoard",this.member.id);(0,de.r7)(e,{profileName:this.localProfile.name,contactEmail:this.localProfile.email,contactPhone:this.localProfile.phone,profileContent:this.localProfile.content}).then((()=>{console.log("update completed"),this.loading=!1,this.edit=!1,this.$router.go()})).catch((e=>{console.log(e)}))},deleteMember(e){console.log(e);let t=`You are deleting ${this.member.profileName} from Executive Board... \n Are you sure you want to do this?`;if(1==confirm(t)){const t=(0,ne.JU)(se.db,"executiveBoard",e);(0,ne.oe)(t).then((()=>{this.$router.go()})).catch((e=>{console.log(e)}))}}}},me=o(744);const pe=(0,me.Z)(ce,[["render",ae],["__scopeId","data-v-3c8ea123"]]);var ue=pe,fe=o(153),he={setup(){},components:{BusinessCard:ue,VueEditor:re.VueEditor},data(){return{loading:null,uploadProgress:0}},computed:{user(){return this.$store.state.user},boardMembers(){return this.$store.state.boardMembers},profilePhotoURL:{get(){return this.$store.state.profilePhotoURL},set(e){this.$store.commit("updateprofilePhotoURL",e)}},profileName:{get(){return this.$store.state.profileName},set(e){this.$store.commit("updateProfileName",e)}},profilePhone:{get(){return this.$store.state.profilePhone},set(e){this.$store.commit("updateprofilePhone",e)}},profileEmail:{get(){return this.$store.state.profileEmail},set(e){this.$store.commit("updateprofileEmail",e)}},profileContent:{get(){return this.$store.state.profileContent},set(e){this.$store.commit("updateprofileContent",e)}}},methods:{fileChange(e){this.file=e.target.files[0];const t=this.file.name;console.log(t),this.$store.commit("fileNameChange",t),this.$store.commit("updateprofilePhotoURL",URL.createObjectURL(this.file))},addNewMember(){if(console.log(this.$store.state.profilePhotoName),""!==this.profileName&&""!==this.profileContent)if(this.file){this.loading=!0;const e=(0,fe.iH)(se.tO,`/BoardMemberProfile/${this.$store.state.profilePhotoName}`),t=(0,fe.B0)(e,this.file);t.on("state_changed",(e=>{console.log(e)}),(e=>{console.log(e),this.loading=!1}),(async()=>{const e=await(0,fe.Jt)(t.snapshot.ref),o=(0,ne.hJ)(se.db,"executiveBoard");await(0,ne.ET)(o,{profileName:this.profileName,contactEmail:this.profileEmail,contactPhone:this.profilePhone,profilePhoto:e,profileContent:this.profileContent}),await this.$store.dispatch("getBoardMembers"),this.loading=!1,this.$store.dispatch("getBoardMembers"),this.$router.go()}))}else this.$snackbar.add({type:"error",text:"Please ensure Profile Photo has been uploaded!"});else this.$snackbar.add({type:"error",text:"Please ensure Member Name and Member Description has been filled!"})}}};const ge=(0,me.Z)(he,[["render",j],["__scopeId","data-v-0c1a44b1"]]);var be=ge}}]);
//# sourceMappingURL=284.5365d38c.js.map